<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin | Analytics</title>
  <link rel="stylesheet" href="css/admin-navbar.css">
  <link rel="stylesheet" href="css/admin-analytics.css">
</head>
<body class="admin-body">

<!-- ================= ADMIN TOPBAR ================= -->
<header class="admin-topbar">
  <div class="topbar-left">
    <img src="images/school-logo-remove-background.png" class="logo">
    <div class="brand">
      <strong>EAST SYSTEMS COLLEGES OF RIZAL</strong>
      <br>
      <span>Admin Portal</span>
    </div>
  </div>

  <div class="topbar-right">
    <div class="admin-user">
      <img id="topbarPhoto" class="topbar-photo" src="images/ai-profile.jpg">
      <div class="user-info">
        <strong id="topbarAdminName"></strong>
        <br>
        <span>Administrator</span>
      </div>
    </div>
  </div>
</header>

<!-- ================= PAGE LAYOUT ================= -->
<div class="admin-layout">

    <!-- ================= SIDEBAR ================= -->
  <!-- ================= ADMIN SIDEBAR ================= -->
  <aside class="admin-sidebar">
    <ul class="nav-menu">
      <li onclick="goTo('admin-dashboard.html')">
        <span class="icon">ğŸ“Š</span>
        <span class="label">Dashboard</span>
      </li>

      <li onclick="goTo('admin-conversation-logs.html')">
        <span class="icon">ğŸ’¬</span>
        <span class="label">Conversation Logs</span>
      </li>

      <li onclick="goTo('admin-knowledge-base.html')">
        <span class="icon">ğŸ“˜</span>
        <span class="label">Knowledge Base</span>
      </li>

      <li onclick="goTo('admin-user-management.html')">
        <span class="icon">ğŸ‘¤</span>
        <span class="label">User Management</span>
      </li>

      <li class="active" onclick="goTo('admin-analytics.html')">
        <span class="icon">ğŸ“ˆ</span>
        <span class="label">Analytics</span>
      </li>

      <li onclick="goTo('admin-settings.html')">
        <span class="icon">âš™ï¸</span>
        <span class="label">Settings</span>
      </li>
    </ul>

    <button class="logout-btn" onclick="logout()">
      <span class="icon">â†©ï¸</span>
      Logout
    </button>


  </aside>

  <!-- ğŸ”’ ADMIN AUTH CHECK -->
    <script>
      if (!localStorage.getItem("admin")) {
        window.location.replace("admin-login.html");
      }
    </script>


  <!-- CONTENT -->
  <main class="admin-content">

    <!-- HEADER -->
     
    <div class="analytics-header">
      <header class="admin-header">
          <div>
            <h1>Analytics and Reports</h1>
            <p>Detailed insights into chatbot performance and usage</p>
          </div>
        </header>
      

      <select class="date-filter" id="dateFilter">
        <option value="7d">Last 7 days</option>
        <option value="30d">Last 30 days</option>
        <option value="year">This Year</option>
    </select>

    </div>

    <!-- STATS -->
    <div class="stats-grid">
      <div class="stat-card">
        <span>Resolution Rate</span>
        <h2 id="resolutionRate">â€”</h2>
        <p id="resolutionChange"></p>
      </div>

      <div class="stat-card">
        <span>Average Response Time</span>
        <h2 id="avgResponse">â€”</h2>
        <p id="avgChange"></p>
      </div>

      <div class="stat-card">
        <span>Escalation Rate</span>
        <h2 id="escalationRate">â€”</h2>
        <p id="escalationChange"></p>
      </div>

      <div class="stat-card">
        <span>User Satisfaction</span>
        <h2 id="satisfaction">â€”</h2>
        <p id="satisfactionChange"></p>
      </div>
    </div>

    <!-- PANELS -->
    <div class="analytics-panels">

      <!-- LEFT -->
      <div class="panel">
        <h3>Query Distribution by Category</h3>

        <!-- âœ… DYNAMIC CONTENT GOES HERE -->
        <div id="categoryBars"></div>
      </div>

      <!-- RIGHT (UNCHANGED) -->
      <div class="panel">
        <h3>Peak Usage Hours</h3>
        <div id="peakHours"></div>
    </div>


  </main>
</div>
<script src="admin.js"></script>
<script src="admin-ui.js"></script>

<script>
  function goTo(page) {
    window.location.href = page;
  }
</script>

</body>
</html>